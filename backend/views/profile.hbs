<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Profile</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="/css/auth.css">
  <link rel="stylesheet" href="/css/header.css">
  <link rel="stylesheet" href="/css/footer.css">
  <link rel="stylesheet" href="/css/profile.css">
</head>
<body>
  {{> header}}

  <main class="auth-container">
    <section class="auth-card">
      <h1>Your Profile</h1>

      <form method="post" action="/profile/display-name", class="auth-form">
        <h2>Change Display Name</h2>

        <input
          type="text"
          name="display_name"
          value="{{user.display_name}}"
          required
        >

        {{#if display_name_error}}
          <p class="error-msg">{{display_name_error}}</p>
        {{/if}}

        <button class="auth-btn">Update Display Name</button>
      </form>

      <hr>

      <form method="post" action="/profile/customization" class="auth-form">
        <h2>Profile Customization</h2>

        <label for="name_color">Display Name Color</label>
        <input
          type="color"
          id="name_color"
          name="name_color"
          value="{{customization.name_color}}"
        >

        {{#if customization_error}}
          <p class="error-msg">{{customization_error}}</p>
        {{/if}}

        <button class="auth-btn">Save Customization</button>
      </form>

      <hr>

      <form method="post" action="/profile/password" class="auth-form">
        <h2>Change Password</h2>

        <input
          type="password"
          name="old_password"
          placeholder="Current password"
          required
        >

        <input
          type="password"
          name="new_password"
          placeholder="New password"
          required
        >

        {{#if password_error}}
          <p class="error-msg">{{password_error}}</p>
        {{/if}}

        {{#if password_errors}}
          <ul class="error-msg">
            {{#each password_errors}}
              <li>{{this}}</li>
            {{/each}}
          </ul>
        {{/if}}

        <button class="auth-btn">Change Password</button>
      </form>
    </section>
  </main>

  {{> footer}}
</body>
</html>
