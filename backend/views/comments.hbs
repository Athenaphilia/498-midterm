<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="/css/header.css">
  <link rel="stylesheet" href="/css/footer.css">
  <link rel="stylesheet" href="/css/comments.css">
  <title>Comments - Cat Forum</title>
</head>
<body>
  {{> header}}
  <main class="comments-container">
    <section class="comments-section">
      <h1>Community <span class="highlight">Comments</span></h1>
      <div class="comments-meta">
        <p>
          Showing page <strong>{{current_page}}</strong>
          of <strong>{{total_pages}}</strong>
          ({{total}} total comments)
        </p>
      </div>
      {{#if comments.length}}
        <ul class="comments-list">
          {{#each comments}}
            <li class="comment-card">
              <div class="comment-header">
                <span class="author" style="color: {{name_color}}">{{author_display_name}}</span>


                <span class="date">{{timestamp}}</span>
              </div>
              <p class="comment-text">{{{body}}}</p>
            </li>
          {{/each}}
        </ul>
      {{else}}
        <p class="no-comments">No comments yet.</p>
      {{/if}}
    </section>
    <nav class="pagination">
      {{#if has_prev}}
        <a class="page-btn" href="/comments/{{prev_offset}}">← Previous</a>
      {{else}}
        <span class="page-btn disabled">← Previous</span>
      {{/if}}

      <div class="page-numbers">
        {{#each pages}}
          {{#if is_current}}
            <span class="page-number current">{{number}}</span>
          {{else}}
            <a class="page-number" href="/comments/{{offset}}">
              {{number}}
            </a>
          {{/if}}
        {{/each}}
      </div>

      {{#if next_offset}}
        <a class="page-btn" href="/comments/{{next_offset}}">Next →</a>
      {{else}}
        <span class="page-btn disabled">Next →</span>
      {{/if}}
</nav>

  </main>

  {{> footer}}
</body>
</html>
